<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Ch·ªß</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/giangvien.css') }}">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">
            <img src="{{ url_for('static', filename='img/Logo.png') }}" alt="Logo">
        </div>
        <ul class="menu">
            <li>
                <a href="#" class="active" onclick="showContent('home')">
                    <img src="{{ url_for('static', filename='img/home.png') }}" alt="Home Icon"> Trang ch·ªß
                </a>
            </li>
            <li>
                <a href="#" onclick="showContent('profile')">
                    <img src="{{ url_for('static', filename='img/profile.png') }}" alt="Profile Icon"> Th√¥ng tin c√° nh√¢n
                </a>
            </li>
            <li>
                <a href="#" onclick="showContent('notifications')">
                    <img src="{{ url_for('static', filename='img/notifications.png') }}" alt="Notifications Icon"> Th√¥ng b√°o
                </a>
            </li>
            <li>
                <a href="#" onclick="showContent('students')">
                    <img src="{{ url_for('static', filename='img/students.png') }}" alt="Students Icon"> Qu·∫£n l√Ω sinh vi√™n
                </a>
            </li>
            
            <li>
                <a href="#" onclick="showContent('papers')">
                    <img src="{{ url_for('static', filename='img/papers.png') }}" alt="Article Icon"> B√†i b√°o khoa h·ªçc
                </a>
            </li>
            <li>
                <a href="#" onclick="showContent('grades')">
                    <img src="{{ url_for('static', filename='img/grades.png') }}" alt="Grades Icon"> T√†i li·ªáu h·ªçc t·∫≠p
                </a>
            </li>
        </ul>
    </div>
    <!-- Main Content -->
    <div class="main-content">
        <!-- Header -->
        <header>
            <div class="navbar">
                <ul class="menu">
                    <li><a href="#">GI·ªöI THI·ªÜU</a></li>
                    <li><a href="#">BI·ªÇU M·∫™U</a></li>
                    <li><a href="#">TH√îNG B√ÅO CHUNG</a></li>
                </ul>
                <div class="search">
                    <input type="text" placeholder="T√¨m ki·∫øm">
                    <button class="search-btn">
                        <img src="{{ url_for('static', filename='img/search.png') }}" alt="Search Icon">
                    </button>
                </div>
                <button class="logout-btn" onclick="window.location.href='{{ url_for('logout') }}'">ƒêƒÉng xu·∫•t</button>
            </div>
        </header>
        <!-- N·ªôi dung ch√≠nh -->
        <div id="home" class="content-section active">
            <div class="poster">
                <img src="{{ url_for('static', filename='img/poster.png') }}" alt="Poster">
            </div>
            <!-- Banner Section -->
            <div class="banner">
                <img src="{{ url_for('static', filename='img/banner.jpg') }}" alt="Banner">
            </div>
            <!-- N·ªôi dung b√†i vi·∫øt -->
            <div class="Noidung">
                <p>TH√ÇN M·ªúI ƒê·∫æN C·ª¨A V≈® ƒêO√ÄN NGH·ªÜ THU·∫¨T KHOA C√îNG NGH·ªÜ TH√îNG TIN</p>
                <p>Ti·∫øp n·ªëi truy·ªÅn th·ªëng c√°c nƒÉm h·ªçc, t·∫°i Li√™n hoan Ti·∫øng h√°t Sinh vi√™n Tr∆∞·ªùng ƒê·∫°i h·ªçc S∆∞ ph·∫°m TP.HCM nƒÉm 2024, ƒêo√†n Ngh·ªá thu·∫≠t khoa C√¥ng ngh·ªá Th√¥ng tin ti·∫øp t·ª•c chinh chi·∫øn v·ªõi b·∫£ng ch∆∞∆°ng tr√¨nh b·∫±ng nh·ªØng ti·∫øt m·ª•c v√¥ c√πng ƒë·∫∑c s·∫Øc, 25 "m·∫£nh gh√©p" ƒëang v√¥ c√πng h√†o h·ª©ng ƒë∆∞·ª£c th·ªÉ hi·ªán t√†i nƒÉng v√† th√†nh qu·∫£ c·ªßa h∆°n 1 th√°ng t·∫≠p luy·ªán v·ª´a qua.</p>
            </div>
            <footer class="footer">
                <div class="container">
                    <div class="footer-info">
                        <h3>Khoa C√¥ng ngh·ªá Th√¥ng tin</h3>
                        <p>ƒê·ªãa ch·ªâ: Ph√≤ng B507, 280 An D∆∞∆°ng V∆∞∆°ng, P.4, Q.5, TP.HCM</p>
                        <p>S·ªë ƒëi·ªán tho·∫°i: 028 38352020</p>
                        <p>Email: khoacntt@hcmue.edu.vn</p>
                    </div>
                    <div class="footer-links">
                        <h3>Li√™n k·∫øt</h3>
                        <p><a href="https://hcmue.edu.vn/vi/">Tr∆∞·ªùng ƒê·∫°i h·ªçc S∆∞ ph·∫°m TP.HCM</a></p>
                        <p><a href="https://online.hcmue.edu.vn/">Trang online sinh vi√™n</a></p>
                    </div>
                </div>
                <p class="copyright">¬© 2021 Tr∆∞·ªùng ƒê·∫°i h·ªçc S∆∞ ph·∫°m TP.HCM - Khoa C√¥ng ngh·ªá Th√¥ng tin</p>
            </footer>
        </div>
        <!-- Profile Section for Th√¥ng tin c√° nh√¢n -->
        <div id="profile" class="content-section">
            <br> 
            <h2>Th√¥ng tin c√° nh√¢n</h2>
            <div class="profile-header">
                <img src="{{ url_for('static', filename='img/user.png') }}" alt="Profile" class="profile-image">
                <div class="profile-name">
                    <h3>{{ chi_tiet_nguoi_dung.ho_ten }}</h3>
                    <p>Gi·∫£ng vi√™n</p>
                </div>
            </div>
            <div class="profile-details">
                <table>
                    <tr>
                        <td><strong>Ti·ªÉu s·ª≠</strong></td>
                        <td id="tieuSuCell">
                            <span id="tieuSuText">{{ chi_tiet_nguoi_dung.tieu_su }}</span>
                            <input type="text" id="tieuSuInput" value="{{ chi_tiet_nguoi_dung.tieu_su }}" style="display:none;">
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Khoa</strong></td>
                        <td id="khoaCell">
                            <span id="khoaText">{{ chi_tiet_nguoi_dung.khoa }}</span>
                            <input type="text" id="khoaInput" value="{{ chi_tiet_nguoi_dung.khoa }}" style="display:none;">
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Lƒ©nh v·ª±c nghi√™n c·ª©u</strong></td>
                        <td id="linhVucCell">
                            <span id="linhVucText">{{ chi_tiet_nguoi_dung.linh_vuc_nghien_cuu }}</span>
                            <input type="text" id="linhVucInput" value="{{ chi_tiet_nguoi_dung.linh_vuc_nghien_cuu }}" style="display:none;">
                        </td>
                    </tr>
                        <td><strong>NƒÉm v√†o l√†m</strong></td>
                        <td id="namHocCell">
                            <span id="namHocText">{{ chi_tiet_nguoi_dung.nam_hoc }}</span>
                            <input type="text" id="namHocInput" value="{{ chi_tiet_nguoi_dung.nam_hoc }}" style="display:none;">
                        </td>
                    </tr>
                    <tr>
                        <td><strong>S·ªë ƒëi·ªán tho·∫°i</strong></td>
                        <td id="soDienThoaiCell">
                            <span id="soDienThoaiText">{{ chi_tiet_nguoi_dung.so_dien_thoai }}</span>
                            <input type="text" id="soDienThoaiInput" value="{{ chi_tiet_nguoi_dung.so_dien_thoai }}" style="display:none;">
                        </td>
                    </tr>
                    <tr>
                        <td><strong>Gi·ªõi t√≠nh</strong></td>
                        <td id="gioiTinhCell">
                            <span id="gioiTinhText">{{ chi_tiet_nguoi_dung.gioi_tinh }}</span>
                            <input type="text" id="gioiTinhInput" value="{{ chi_tiet_nguoi_dung.gioi_tinh }}" style="display:none;">
                        </td>
                    </tr>
                    <tr>
                        <td><strong>ƒê·ªãa ch·ªâ</strong></td>
                        <td id="diaChiCell">
                            <span id="diaChiText">{{ chi_tiet_nguoi_dung.dia_chi }}</span>
                            <input type="text" id="diaChiInput" value="{{ chi_tiet_nguoi_dung.dia_chi }}" style="display:none;">
                        </td>
                    </tr>
                    <!-- Th√™m c·ªôt Lƒ©nh v·ª±c nghi√™n c·ª©u -->
                    
                </table>
            </div>
            <button class="Capnhat" id="editButton">C·∫≠p nh·∫≠t</button>
        </div>
        <!-- Notifications Section -->
        <div id="notifications" class="content-section">
            <h2>Th√¥ng b√°o</h2>
            
            <!-- Form ƒë·ªÉ gi·∫£ng vi√™n th√™m th√¥ng b√°o m·ªõi -->
            <div class="notification-create">
                <h3>Th√™m Th√¥ng B√°o M·ªõi</h3>
                <form method="POST" action="{{ url_for('tao_thong_bao') }}">
                    <div>
                        <label for="tieu_de">Ti√™u ƒë·ªÅ</label>
                        <input type="text" id="tieu_de" name="tieu_de" required>
                    </div>
                    <div>
                        <label for="noi_dung">N·ªôi dung</label>
                        <textarea id="noi_dung" name="noi_dung" rows="4" required></textarea>
                    </div>
                    <button type="submit">ƒêƒÉng Th√¥ng B√°o</button>
                </form>
            </div>
        
            <!-- Ph·∫ßn th√¥ng b√°o -->
            <div class="notification-box">
                {% for notification in notifications %}
                <div class="notification-item" id="notification_{{ notification.ma_thong_bao }}">
                    <div class="notification-header">
                        <!-- Ti√™u ƒë·ªÅ th√¥ng b√°o -->
                        <input type="text" class="notification-title" id="title_{{ notification.ma_thong_bao }}" value="{{ notification.tieu_de }}" disabled>
                        <!-- Ng√†y t·∫°o th√¥ng b√°o -->
                        <span class="notification-date">{{ notification.ngay_tao.strftime('%a %b %d, %Y') }}</span>
                    </div>
                    <div class="notification-body">
                        <!-- N·ªôi dung th√¥ng b√°o -->
                        <textarea id="content_{{ notification.ma_thong_bao }}" rows="3" disabled>{{ notification.noi_dung }}</textarea>
                    </div>
                    <div class="notification-actions">
                        <!-- N√∫t S·ª≠a -->
                        <button class="edit-btn" id="edit_{{ notification.ma_thong_bao }}" onclick="enableEdit({{ notification.ma_thong_bao }})">S·ª≠a</button>
                        <!-- N√∫t L∆∞u (·∫©n m·∫∑c ƒë·ªãnh) -->
                        <button class="save-btn" id="save_{{ notification.ma_thong_bao }}" onclick="saveEdit({{ notification.ma_thong_bao }})" style="display:none;">L∆∞u</button>
                        <!-- N√∫t X√≥a -->
                        <button class="delete-btn" onclick="deleteNotification({{ notification.ma_thong_bao }})">X√≥a</button>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        
        <!-- Students Management Section -->
        <!-- Qu·∫£n l√Ω sinh vi√™n -->
        <div id="student" class="content-section">
            <h2>Danh s√°ch Sinh vi√™n</h2>
            <div class="controls">
                <div class="search-container">
                    <input type="text" placeholder="T√¨m ki·∫øm" class="search-input" id="searchInput">
                    <button class="search-button" id="searchButton">
                        <img src="{{ url_for('static', filename='img/search.png') }}" alt="Search">
                    </button>
                </div>
                <div class="add-controls">
                    <button class="add-button">+</button>
                </div>
            </div>
    
            <!-- Table to show the list of students -->
            <table class="student-table" id="studentTable">
                <thead>
                    <tr>
                        <th>T√™n sinh vi√™n</th>
                        <th>Khoa</th>
                        <th>Lƒ©nh v·ª±c</th>
                        <th>NƒÉm h·ªçc</th>
                        <th>Email</th>
                    </tr>
                </thead>
                <tbody id="studentTableBody">
                    {% for student in students %}
                    <tr>
                        <td>{{ student.ho_ten }}</td>
                        <td>{{ student.khoa }}</td>
                        <td>{{ student.linh_vuc_nghien_cuu }}</td>
                        <td>{{ student.nam_hoc }}</td>
                        <td>{{ student.nguoi_dung.email }}</td>  <!-- Gi·∫£ s·ª≠ ƒë√£ li√™n k·∫øt v·ªõi NguoiDung -->
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        
        
        
        <!-- Qu·∫£n l√Ω l·ªõp h·ªçc -->
        
        <!-- Papers Section -->
        <!-- B√†i b√°o khoa h·ªçc -->
        <div id="papers" class="content-section">
            <h2>B√†i b√°o khoa h·ªçc</h2>
            <div class="article-form">
                <input type="text" id="articleTitle" placeholder="Ti√™u ƒë·ªÅ b√†i b√°o" class="input-field" required>
                <textarea id="articleContent" placeholder="N·ªôi dung" class="input-field" required></textarea>
                
                <button class="add-article-btn" id="addArticleBtn">Th√™m b√†i b√°o</button>
            </div>
            <table class="article-table">
                <thead>
                    <tr>
                        <th>T√™n b√†i b√°o</th>
                        <th>N·ªôi dung</th>
                        <th>Ch·ª©c nƒÉng</th>
                    </tr>
                </thead>
                <tbody id="articleTableBody">
                    {% for bai_viet in danhsachbaibao %}
                    <tr id="article-{{ bai_viet.ma_bai_viet }}">
                        <td>{{ bai_viet.tieu_de }}</td>
                        <td>{{ bai_viet.noi_dung }}</td>
                        <td>
                            <button class="delete-btn" onclick="deleteArticle({{ bai_viet.ma_bai_viet }})">üóëÔ∏è</button>
                            <button class="edit-btn" onclick="editArticle({{ bai_viet.ma_bai_viet }})">S·ª≠a</button>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div id="grades" class="content-section">
            <h2>T√†i li·ªáu kh√≥a h·ªçc</h2>
            <div class="container mx-auto p-4">
                <div class="mb-4">
                    <input type="text" id="searchInput" placeholder="Nh·∫≠p t√™n m√¥n h·ªçc ho·∫∑c m√£ h·ªçc ph·∫ßn" class="border1">
                </div>
        
                <table id="documentTable" class="min-w-full bg-white border border-zinc-300">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th class="py-2 px-4">STT</th> <!-- S·ªë th·ª© t·ª± -->
                            <th class="py-2 px-4">T√™n m√¥n</th> <!-- T√™n kh√≥a h·ªçc -->
                            <th class="py-2 px-4">Ti√™u ƒë·ªÅ</th> <!-- Ti√™u ƒë·ªÅ t√†i li·ªáu -->
                            <th class="py-2 px-4">Ng√†y t·∫£i</th> <!-- Ng√†y t√†i li·ªáu ƒë∆∞·ª£c t·∫£i -->
                            <th class="py-2 px-4">ƒê·ªÅ c∆∞∆°ng</th> <!-- Button t·∫£i t√†i li·ªáu -->
                        </tr>
                    </thead>
                    <tbody id="documentTableBody">
                        <!-- Duy·ªát qua danh s√°ch t√†i li·ªáu -->
                        {% for tai_lieu in danh_sach_tai_lieu %}
                        <tr class="document-row">
                            <td class="border px-4 py-2">{{ loop.index }}</td> <!-- S·ªë th·ª© t·ª± -->
                            <td class="border px-4 py-2">{{ tai_lieu.KhoaHoc.ten_khoa_hoc }}</td> <!-- T√™n m√¥n h·ªçc -->
                            <td class="border px-4 py-2">{{ tai_lieu.tieu_de }}</td> <!-- Ti√™u ƒë·ªÅ t√†i li·ªáu -->
                            <td class="border px-4 py-2">{{ tai_lieu.ngay_tai.strftime('%d-%m-%Y') }}</td> <!-- Ng√†y t·∫£i -->
                            <td class="border px-4 py-2">
                                <a href="{{ tai_lieu.duong_dan_tai_lieu }}" class="border px-4 py-2">
                                    <img src="{{ url_for('static', filename='img/decuong.png') }}" alt="Button Image">
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>


    <script src="{{ url_for('static', filename='js/giangvien.js') }}"></script>
</body>
</html>